{"ast":null,"code":"import { saveCells } from '../action-creators';\nimport { ActionType } from '../action-types';\nexport const persistMiddleware = ({\n  dispatch,\n  getState\n}) => {\n  return next => {\n    return action => {\n      next(action);\n\n      if ([ActionType.MOVE_CELL, ActionType.UPDATE_CELL, ActionType.DELETE_CELL, ActionType.INSERT_CELL_AFTER].includes(action.type)) {\n        setTimeout(() => {\n          saveCells()(dispatch, getState);\n        }, 250);\n      }\n    };\n  };\n};","map":{"version":3,"sources":["/home/utoker/Projects/utcode/packages/local-client/src/state/middlewares/persist-middleware.ts"],"names":["saveCells","ActionType","persistMiddleware","dispatch","getState","next","action","MOVE_CELL","UPDATE_CELL","DELETE_CELL","INSERT_CELL_AFTER","includes","type","setTimeout"],"mappings":"AACA,SAASA,SAAT,QAA0B,oBAA1B;AACA,SAASC,UAAT,QAA2B,iBAA3B;AAIA,OAAO,MAAMC,iBAAiB,GAAG,CAAC;AAChCC,EAAAA,QADgC;AAEhCC,EAAAA;AAFgC,CAAD,KAM3B;AACJ,SAAQC,IAAD,IAAoC;AACzC,WAAQC,MAAD,IAAoB;AACzBD,MAAAA,IAAI,CAACC,MAAD,CAAJ;;AAEA,UACE,CACEL,UAAU,CAACM,SADb,EAEEN,UAAU,CAACO,WAFb,EAGEP,UAAU,CAACQ,WAHb,EAIER,UAAU,CAACS,iBAJb,EAKEC,QALF,CAKWL,MAAM,CAACM,IALlB,CADF,EAOE;AACAC,QAAAA,UAAU,CAAC,MAAM;AACfb,UAAAA,SAAS,GAAGG,QAAH,EAAaC,QAAb,CAAT;AACD,SAFS,EAEP,GAFO,CAAV;AAGD;AACF,KAfD;AAgBD,GAjBD;AAkBD,CAzBM","sourcesContent":["import { Dispatch } from 'redux';\nimport { saveCells } from '../action-creators';\nimport { ActionType } from '../action-types';\nimport { Action } from '../actions';\nimport { RootState } from '../reducers';\n\nexport const persistMiddleware = ({\n  dispatch,\n  getState,\n}: {\n  dispatch: Dispatch<Action>;\n  getState: () => RootState;\n}) => {\n  return (next: (action: Action) => void) => {\n    return (action: Action) => {\n      next(action);\n\n      if (\n        [\n          ActionType.MOVE_CELL,\n          ActionType.UPDATE_CELL,\n          ActionType.DELETE_CELL,\n          ActionType.INSERT_CELL_AFTER,\n        ].includes(action.type)\n      ) {\n        setTimeout(() => {\n          saveCells()(dispatch, getState);\n        }, 250);\n      }\n    };\n  };\n};\n"]},"metadata":{},"sourceType":"module"}